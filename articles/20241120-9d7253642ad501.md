---
title: "ダイアログ内で要素を固定位置表示にする"
emoji: "🕌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["html", "css"]
published: false
---

こんな感じのもの

<p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="YzmoXeG" data-pen-title="Fixed dialog close button." data-user="nitiyoubi4" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;">
  <span>See the Pen <a href="https://codepen.io/nitiyoubi4/pen/YzmoXeG">
  Fixed dialog close button.</a> by 日曜日 (<a href="https://codepen.io/nitiyoubi4">@nitiyoubi4</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>

## HTML/CSS

Penなどに貼り付ければ動作確認できます。

```html
<button type="button" id="open">開く</button>

<dialog class="dialog">
  <div class="close">
    <button type="button" id="close">閉じる</button>
  </div>

  <div class="scroll-container"></div>
</dialog>

<script>
  document.getElementById("open").addEventListener("click", () => {
    document.querySelector(".dialog").showModal();
  });

  document.getElementById("close").addEventListener("click", () => {
    document.querySelector(".dialog").close();
  });
</script>
```

```css
.close {
  position: sticky;
  top: 0;
  z-index: 1;
  height: 0;
}

.scroll-container {
  height: 2000px;
}

.dialog {
  max-height: 250px;
}
```

## 説明

要素の固定表示といえば、`position: fixed`が真っ先に思い浮かびますが、大きさの可変するダイアログ要素内に固定するには苦労します。  
そのためここでは、CSSの`position: sticky`を使って、固定表示を実現しています。

例では閉じるボタンは上部に固定表示されていますが、下部に固定したい場合

```css
.close {
  top: 100%;
}

.close button {
  translate: 0 -100%;
}
```

とすることで、下部に固定できます。
